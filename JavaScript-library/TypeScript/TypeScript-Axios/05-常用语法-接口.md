05 - 常用语法 - 接口
===

> Create by **jsliang** on **2020-3-5 20:47:31**  
> Recently revised in **2020-03-09 10:14:53**

## <a name="chapter-one" id="chapter-one"></a>一 目录

**不折腾的前端，和咸鱼有什么区别**

| 目录 |
| --- | 
| [一 目录](#chapter-one) | 
| <a name="catalog-chapter-two" id="catalog-chapter-two"></a>[二 前言](#chapter-two) |
| <a name="catalog-chapter-three" id="catalog-chapter-three"></a>[三 TypeScript 的特点](#chapter-three) |
| <a name="catalog-chapter-four" id="catalog-chapter-four"></a>[四 安装 TypeScript](#chapter-four) |

## <a name="chapter-two" id="chapter-two"></a>二 接口

> [返回目录](#chapter-one)

* 接口初探
* 可选属性
* 只读属性
* 额外属性检查
* 函数类型
* 可索引类型
* 类类型
* 继承接口
* 混合类型
* 接口继承类

> 接口初探 1

```ts
function printLabel(obj: { label: string }) {
  console.log(obj.label);
}

let myObj = { size: 10, label: 'size for 10' };

printLabel(myObj); // size for 10
```

> 接口初探 2

```ts
interface labelValue {
  label: string;
}

function printLabel(labelObj: labelValue) {
  console.log(labelObj.label);
}

let myObj = {
  size: 10,
  label: 'size for 10',
};

printLabel(myObj); // size for 10
```

> 可选属性

```ts
interface SquareConfig {
  color?: string;
  width?: number;
}

function createSquare(config: SquareConfig) {
  let newSquare = {
    color: 'white',
    area: 100,
  };
  if (config.color) {
    newSquare.color = config.color;
  }
  if (config.width) {
    newSquare.area = Math.pow(config.width, 2);
  }
  return newSquare;
}

let mySquare = createSquare({
  color: 'black',
});

console.log(mySquare); // { color: 'black', area: 100 }
```

> 只读属性 1

```ts
interface Point {
  readonly x: number;
  readonly y: number;
};

let point: Point = {
  x: 10,
  y: 20,
};

point.x = 5; // Cannot assign to 'x' because it is a read-only property.
```

> 只读属性 2

```ts
let a: number[] = [1, 2, 3, 4];
let b: ReadonlyArray<number> = a;
b[0] = 12; // 类型 “readonly number[]” 中的索引签名仅允许读取。ts(2542)
b.push(5); // 类型 “readonly number[]” 上不存在属性“push”。ts(2339)
b.length = 100; // Cannot assign to 'length' because it is a read-only property.ts(2540)
a = b; // The type 'readonly number[]' is 'readonly' and cannot be assigned to the mutable type 'number[]'.ts(4104)
```

> 只读属性 3

```ts
let a: number[] = [1, 2, 3, 4];
let b: ReadonlyArray<number> = a;

a = b as number[];
```

> 额外的属性检查

```ts
interface SquareConfig {
  color?: string;
  width?: number;
}

function createSquare(config: SquareConfig): { color: string; area: number } {
  let newSquare = {
    color: 'white',
    area: 100,
  };
  if (config.color) {
    newSquare.color = config.color;
  }
  if (config.width) {
    newSquare.area = Math.pow(config.width, 2);
  }
  return newSquare;
}

let mySquare = createSquare({
  colour: 'red',
  // 类型 “{ colour: string; width: number; }” 的参数不能赋给类型 “SquareConfig” 的参数。
  // 对象文字只能指定已知的属性，但 “colour” 中不存在类型 “SquareConfig”。是否要写入 color?
  width: 100,
});
```

> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">jsliang 的文档库</span> 由 <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/LiangJunrong/document-library" property="cc:attributionName" rel="cc:attributionURL">梁峻荣</a> 采用 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a>进行许可。<br />基于<a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/LiangJunrong/document-library" rel="dct:source">https://github.com/LiangJunrong/document-library</a>上的作品创作。<br />本许可协议授权之外的使用权限可以从 <a xmlns:cc="http://creativecommons.org/ns#" href="https://creativecommons.org/licenses/by-nc-sa/2.5/cn/" rel="cc:morePermissions">https://creativecommons.org/licenses/by-nc-sa/2.5/cn/</a> 处获得。
